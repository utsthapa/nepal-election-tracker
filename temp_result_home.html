

<!DOCTYPE html>
<html>
<head><meta name="viewport" content="width=device-width, initial-scale=1" /><title>
	मतगणना प्रगतिको विवरण
</title><link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png" /><link href="Styles/sm-simple.css" rel="stylesheet" type="text/css" /><link href="Styles/font-awesome/css/fontawesome.min.css" rel="stylesheet" type="text/css" /><link href="Styles/font-awesome/css/solid.min.css" rel="stylesheet" type="text/css" /><link href="Styles/font-awesome/css/brands.min.css" rel="stylesheet" type="text/css" /><link href="Styles/CustomStyle.css" rel="stylesheet" type="text/css" /><link href="Styles/Site.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" href="/Styles/leaflet.css" /><link rel="stylesheet" href="/Styles/qgis2web.css" /><link href="Styles/bootstrap.min.css" rel="stylesheet" type="text/css" /><link href="Styles/animate.css" rel="stylesheet" type="text/css" />
    <script src="JSLibrary/jquery-2.1.1.min.js" type="text/javascript"></script>
    <script src="JQGridReq/jquery-1.11.0.min.js" type="text/javascript"></script>
    <script src="JQGridReq/jquery-ui.js" type="text/javascript"></script>
    <link href="JQGridReq/jquery-ui.min.css" rel="stylesheet" type="text/css" />
    <script src="JQGridReq/jquery-1.9.0.min.js" type="text/javascript"></script>
    <script src="JQGridReq/grid.locale-en.js" type="text/javascript"></script>
    <script src="JQGridReq/jquery.jqGrid.js" type="text/javascript"></script>
    <link href="JQGridReq/ui.jqgrid.css" rel="stylesheet" type="text/css" />
    <script src="JQGridReq/jszip.min.js" type="text/javascript"></script>
    <script src="JSLibrary/jquery.smartmenus.js" type="text/javascript"></script>
    <script src="JSLibrary/bootstrap.min.js" type="text/javascript"></script>
    <script src="JSLibrary/WebCommon.js" type="text/javascript"></script>
    <script src="JSLibrary/knockout-3.5.1.js" type="text/javascript"></script>


  

    

    <style>
        .ui-jqgrid .ui-pg-selbox
        {
            font-size: .8em;
            line-height: 18px;
            display: block;
            height: 18px;
            margin: 0;
            color: #000 !important;
        }
        .panel-group .panel .panel-heading h4 a:hover, .panel-group .panel .panel-heading h4 a:not(.collapsed)
        {
            /*background: #fff;*/
            transition: 0.15s all ease-in-out;
        }
        .panel-group .panel .panel-heading h4 a:not(.collapsed) i:before
        {
            content: "-";
            font-size: 30px;
            line-height: 10px;
        }
        .panel-group .panel .panel-heading h4 a i
        {
            color: #999;
            font-size: 12px;
        }
        .panel-group .panel .panel-body
        {
            padding-top: 0;
        }
        .panel-group .panel .panel-heading + .panel-collapse > .list-group, .panel-group .panel .panel-heading + .panel-collapse > .panel-body
        {
            border-top: none;
        }
        .panel-group .panel + .panel
        {
            border-top: none;
            margin-top: 0;
        }
        .panel
        {
            background: #1a3948;
        }
        .panel-default > .panel-heading
        {
            color: #fff;
            background-color: #2a5c73;
            border-top: 1px #1a3948 solid;
            border-color: #1a3948;
        }
        .panel-heading a
        {
            color: #fff;
            outline: none;
        }
        .panel-heading a:hover
        {
            text-decoration: none;
        }
        .panel-group .panel
        {
            border-radius: 0px;
        }
        .panel-default
        {
            border-color: #1a3948;
        }
        .panel-title
        {
            margin-top: 0;
            margin-bottom: 0;
            font-size: 12px;
            color: inherit;
            padding-left: 16px;
        }
        .pxlr-faq-body
        {
            padding: 0px;
        }
        .panel-title a
        {
            display: block;
        }
        .footer
        {
            font-weight: 600;
        }
    </style>
</head>
<body class="new-site">
    <header class="page">
        <div class="main-header">
            <img src="/Images/coat_of_arms.png" alt="ERIS" id="coat" class="img-responsive" style="float: left;" />
            <div class="header-title">
                <h1>
                    निर्वाचन आयोग</h1>
                <h2>
                    प्रतिनिधि सभा निर्वाचन ,२०८२</h2>
            </div>
            <div class="header-logo">
                <img src="/Images/ecn-logo.png" alt="ERIS" id="logo" class="img-responsive" style="float: left;" />
                <div class="header-logo-title">
                    <div>
                        निर्वाचन आयोग, नेपाल</div>
                    <div>
                        Election Commission, Nepal</div>
                </div>
            </div>
        </div>
    </header>
    <aside class="nav-side-menu animated slideInLeft demo">
        <div class="menu-list" id="menu">
        </div>
        <div class="menu-close" onclick="hideMenu()">&times;</div>
    </aside>
    <main>
        
        
    <style>
        .spacing {
            margin-top: 10px;
        }



        .ui-search-toolbar th {
            height: 25px !important;
            vertical-align: top !important;
        }

        .ui-search-input select {
            vertical-align: top !important;
            margin-bottom: 15px;
        }

        .ui-search-input input[type="text"] {
            line-height: 25px;
            height: 25px !important;
            vertical-align: top !important;
        }

        .ui-search-input input {
            line-height: 25px;
            height: 25px !important;
            margin-top: 5px;
            vertical-align: top !important;
        }

        th.ui-th-column div {
            white-space: normal !important;
            height: auto !important;
            padding: 2px;
            font-weight: bold;
        }

        .tree-wrap-ltr {
            margin-top: 11PX;
        }

        .ui-search-clear a.clearsearchclass {
            color: #f6f6f6;
            display: block !important;
        }

        tr:nth-child(even) {
            background-color: #eaf3f3;
        }

        .ui-jqgrid .ui-pg-selbox {
            font-size: .8em;
            line-height: 18px;
            display: block;
            height: 18px;
            margin: 0;
            color: #000 !important;
        }

        .form-title {
            margin-left: 15%;
        }
    </style>
    <div class="col-md-10 col-xs-12 animated slideInRight" style="margin-top: 80px;">
        <div class="row">
            <div class="col-md-12" style="margin-top: -45px;">
                
                <h3 class="form-title" style="font-size: 20px; font-weight: bold; margin-left: 35%;"
                    id="pageTitle">प्रतिनिधि सभा सदस्य निर्वाचनमा उम्मेदवारहरुको सुची
                </h3>
                <h4 class="form-title" style="font-size: 20px; color: red; font-weight: bold; margin-left: 40%;"
                    id="H1">click on the row to view details
                </h4>
                <br />
                <div id="jQGridDemoPager" style="width: 500px; min-height: 40px;">
                </div>
                <table id="jQGridDemo" cellpadding="0" cellspacing="0">
                </table>
                <div id="jQGridDemoPager" style="width: 500px; min-height: 40px;">
                </div>
                <br />
                
                <div id="divFooter" style="text-align: center">
                    द्रष्टब्यः मुख्य निर्वाचन अधिकृत र निर्वाचन अधिकृतको कार्यालयहरुबाट यस प्रणालीमा
                    प्रविष्ट भएका तथ्याङ्कको आधारमा ।
                </div>
                <!-- Popup Modal -->
                <script type="text/javascript">

                    function Vm() {
                        var self = this;
                        self.Details = ko.observable();
                        self.ConstName = ko.observable();
                    }

                    $(document).ready(function () {
                        let candVM = new Vm();
                        ko.applyBindings(candVM, document.querySelector('#ModalDetails'));
                        $("#banner-Image").attr("src", "/Images/pratinidhi-sabha.png");

                        let states = [], dists = [];

                        fetch('/JSONFiles/Election2082/Local/Lookup/states.json')
                            .then(x => x.json())
                            .then(data => {
                                states = data;
                            });

                        fetch('/JSONFiles/Election2082/Local/Lookup/districts.json')
                            .then(x => x.json())
                            .then(data => {
                                dists = data;
                            });


                        let candidates = [];
                        var cols = [
                            { label: 'Candidate_ID', name: 'CandidateID', width: 0, hidden: true },

                            { label: 'janmasthan', name: 'CTZDIST', width: 0, hidden: true },
                            { label: 'experience', name: 'EXPERIENCE', width: 0, hidden: true },
                            { label: 'otherdetails', name: 'OTHERDETAILS', width: 0, hidden: true },
                            { label: 'permaddress', name: 'ADDRESS', width: 0, hidden: true },
                            { label: 'qualification', name: 'QUALIFICATION', width: 0, hidden: true },
                            { label: 'spousename', name: 'SPOUCE_NAME', width: 0, hidden: true },
                            { label: 'fathername', name: 'FATHER_NAME', width: 0, hidden: true },
                            { label: 'DOB', name: 'DOB', width: 0, hidden: true },
                            { label: 'nameofinst', name: 'NAMEOFINST', width: 0, hidden: true },

                            { label: 'प्रदेश', name: 'StateName', width: 80, stype: "select" },
                            { label: 'जिल्ला', name: 'DistrictName', width: 100, stype: "select" },
                            { label: 'प्रतिनिधि सभा निर्वाचन क्षेत्र', name: 'SCConstID', width: 70 },
                            { label: 'उम्मेदवारको नाम', name: 'CandidateName', width: 110 },
                            { label: 'लिङ्ग', name: 'Gender', width: 40 },
                            { label: ' 	राजनीतिक दल / स्वतन्त्र', name: 'PoliticalPartyName', width: 150 },
                            { label: 'चुनाव चिन्ह ', name: 'SymbolName', width: 100 },
                            //{ label: 'जम्मा प्राप्त मत', name: 'TotalVoteReceived', width: 70 },
                            //{ label: 'स्थान', name: 'Rank', width: 25, searchoptions: { sopt: ['eq']} },
                            //{ label: 'कैफियत', name: 'Remarks', width: 50 },
                        ];
                        fetch('/JSONFiles/ElectionResultCentral2082.txt').then(x => x.json()).then(arr => {
                            candidates = arr;
                        });

                        displayCandidate = function (data) {
                            $('#ModalDetails').modal('show');
                            candVM.ConstName('प्रतिनिधि सभा निर्वाचन क्षेत्र ' + data.SCConstID);
                            candVM.Details(data);
                            getImage(data.CandidateID);
                        };

                        getImage = function (candidateid) {
                            document.getElementById('imageDisplay').setAttribute('src', null);
                            var imgsrc = "Images/Candidate/" + candidateid + ".jpg"
                            console.log(imgsrc, 'src');
                            document.getElementById('imageDisplay').setAttribute('src', imgsrc);
                        };

                        jQuery("#jQGridDemo").jqGrid({
                            url: '/JSONFiles/ElectionResultCentral2082.txt',
                            datatype: "json",
                            height: 425,
                            width: 1100,
                            //colNames: ['क्र.सं.', 'जिल्ला', 'स्थानीय तह', 'पद', 'वडा नं.', 'उम्मेदवारको नाम', 'लिङ्ग', "उमेर", 'राजनीतिक दलको नाम'],
                            colModel: cols,
                            rowNum: 10,
                            mtype: 'GET',
                            loadonce: true,
                            rowList: [10, 20, 30],
                            pager: '#jQGridDemoPager',
                            sortname: '_id',
                            viewrecords: true,
                            sortorder: 'desc',
                            onSelectRow: function (rowid, status, e) {
                                var $self = $(this), $target = $(e.target),
                                    p = $self.jqGrid("getGridParam"),
                                    rowData = $self.jqGrid("getLocalRow", rowid),
                                    $td = $target.closest("tr.jqgrow>td"),
                                    iCol = $td.length > 0 ? $td[0].cellIndex : -1,
                                    cmName = iCol >= 0 ? p.colModel[iCol].name : "";
                                displayCandidate(rowData);
                            },
                            ignoreCase: true
                        });

                        getUniqueNames = function (columnName) {
                            var texts = $('#jQGridDemo').jqGrid("getCol", columnName), uniqueTexts = [],
                                textsLength = texts.length, text, textsMap = {}, i;
                            for (i = 0; i < textsLength; i++) {
                                text = texts[i];
                                if (text !== undefined && textsMap[text] === undefined) {
                                    textsMap[text] = true;
                                    uniqueTexts.push(text);
                                }
                            }
                            return uniqueTexts;
                        };
                        getLookupArray = function (columnName) {
                            var items;
                            $.ajax({
                                async: false,
                                cache: false,
                                url: "/JSONFiles/" + columnName + ".txt",
                                success: function (data) {
                                    items = JSON.parse(data);
                                }
                            });
                            return items;
                        };
                        buildSearchSelect = function (items) {
                            var values = ":All";
                            $.each(items, function () {
                                values += ";" + this + ":" + this;
                            });
                            return values;
                        };
                        setSearchSelect = function (columnName) {
                            $('#jQGridDemo').jqGrid("setColProp", columnName, {
                                stype: "select",
                                searchoptions: {
                                    value: buildSearchSelect(getLookupArray(columnName)),
                                    sopt: ["eq"]
                                }

                            });
                        };
                        setVariableSearchSelect = function (columnName, jsonName) {
                            $('#jQGridDemo').jqGrid("setColProp", columnName, {
                                stype: "select",
                                searchoptions: {
                                    value: buildSearchSelect(getLookupArray(jsonName)),
                                    sopt: ["eq"]
                                }
                            });
                        };

                        setSearchSelect('StateName');
                        setSearchSelect('DistrictName');
                        //setSearchSelect('LocalBodyName');
                        // setSearchSelect('PoliticalPartyName');
                        //setSearchSelect('SCConstName');

                        $('#jQGridDemo').jqGrid('navGrid', '#jQGridDemoPager',
                            {
                                edit: false,
                                add: false,
                                del: false,
                                search: false,
                                searchtext: "Search",
                                addtext: "Add",
                                edittext: "Edit",
                                deltext: "Delete"
                            },
                            {//SEARCH
                                closeOnEscape: true
                            }
                        );
                        //setSearchSelect.call($('#jQGridDemo'), "DistrictName");
                        jQuery("#jQGridDemo").jqGrid('filterToolbar', { searchOperators: false, searchOnEnter: false, autosearch: true });

                        $("#btnExportExcel").on("click", function () {
                            $("#jQGridDemo").jqGrid("exportToExcel", {
                                includeLabels: true,
                                includeGroupHeader: true,
                                includeFooter: true,
                                fileName: "CandidateNominationList.xlsx",
                                maxlength: 500 // maxlength for visible string data 
                            })
                        });

                        //$('#gs_PoliticalPartyName option:gt(0)').remove();
                        //var $partySelect = $('#gs_PoliticalPartyName');
                        //var partyNames = getLookupArray('PoliticalPartyNew');
                        //$.each(partyNames, function (data, value) {
                        //    $partySelect.append($("<option></option>").attr("value", value).text(value));
                        //});

                        $('#gs_StateName').on('change', evt => {
                            $('#gs_DistrictName').val('');
                            stateId = states.find(x => x.name == evt.target.value)?.id;
                            if (evt.target.value.toLowerCase() == '') districtList = dists;
                            else districtList = dists.filter(x => x.parentId == stateId);
                            [...document.querySelector('#gs_DistrictName').options].slice(1).map(x => x.remove());
                            districtList.forEach(x => {
                                document.querySelector('#gs_DistrictName').options.add(new Option(x.name, x.name));
                            });
                        });
                    });

                    var candidateId;
                    document.getElementById("jQGridDemo").addEventListener("click", function (e) {
                        //var data = table.row(e.target).data();
                        var target = e.target || e.srcElement;
                        candidateId = target.closest('tr').cells[0].innerText;
                    });
                </script>
            </div>
        </div>
    </div>
    <div id="ModalDetails" class="modal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        &times;</button>
                    <h4 class="modal-title">उम्मेदवारको वैयक्तिक विवरण (अनुसूची-१० )</h4>
                </div>
                <div class="modal-body" data-bind="with: Details">
                    <div class="row">
                        <div class="col-md-4">
                            उम्मेदवारको पूरा नाम,थरः :<span class="mandatory"></span>
                        </div>
                        <div class="col-md-5 padding-left-0">
                            <input type="text" id="aaaa" data-bind="value: CandidateName" class='required form-control'
                                disabled="disabled" />
                        </div>
                        <div class="col-md-3 padding-left-0">
                            <img id="imageDisplay" style="width: 120px;" src="" alt="No Image Available">
                        </div>
                    </div>
                    <div class="row spacing">
                        <div class="col-md-4">
                            उम्मेदवार भएको, निर्वाचन क्षेत्र :<span class="mandatory"></span>
                        </div>
                        <div class="col-md-5 padding-left-0">
                            <input type="text" id="Text1" data-bind="value: $root.ConstName" class='required form-control'
                                disabled="disabled" />
                        </div>
                    </div>
                    <div class="row spacing">
                        <div class="col-md-4">
                            उम्मेदवार भएको, जिल्ला :<span class="mandatory"></span>
                        </div>
                        <div class="col-md-5 padding-left-0">
                            <input type="text" id="Text2" data-bind="value: DistrictName" class='required form-control'
                                disabled="disabled" />
                        </div>
                    </div>
                    <div class="row spacing">
                        <div class="col-md-4">
                            उमेर:<span class="mandatory"></span>
                        </div>
                        <div class="col-md-5 padding-left-0">
                            <input type="text" id="Text3" data-bind="value: DOB" class='required form-control'
                                disabled="disabled" />
                        </div>
                    </div>
                    <div class="row spacing">
                        <div class="col-md-4">
                            जन्मस्थान :<span class="mandatory"></span>
                        </div>
                        <div class="col-md-5 padding-left-0">
                            <input type="text" id="Text4" data-bind="value: CTZDIST" class='required form-control'
                                disabled="disabled" />
                        </div>
                    </div>
                    <div class="row spacing">
                        <div class="col-md-4">
                            स्थायी ठेगाना :<span class="mandatory"></span>
                        </div>
                        <div class="col-md-5 padding-left-0">
                            <input type="text" id="Text5" data-bind="value: ADDRESS" class='required form-control'
                                disabled="disabled" />
                        </div>
                    </div>
                    <div class="row spacing">
                        <div class="col-md-4">
                            बाबु/आमाको नाम :<span class="mandatory"></span>
                        </div>
                        <div class="col-md-5 padding-left-0">
                            <input type="text" id="Text6" data-bind="value: FATHER_NAME" class='required form-control'
                                disabled="disabled" />
                        </div>
                    </div>
                    <div class="row spacing">
                        <div class="col-md-4">
                            पति/पत्नीको नाम, थर :<span class="mandatory"></span>
                        </div>
                        <div class="col-md-5 padding-left-0">
                            <input type="text" id="Text7" data-bind="value: SPOUCE_NAME" class='required form-control'
                                disabled="disabled" />
                        </div>
                    </div>
                    <div class="row spacing">
                        <div class="col-md-4">
                            राजनीतिक दल/स्वतन्त्र :<span class="mandatory"></span>
                        </div>
                        <div class="col-md-5 padding-left-0">
                            <input type="text" id="Text8" data-bind="value: PoliticalPartyName" class='required form-control'
                                disabled="disabled" />
                        </div>
                    </div>
                    <div class="row spacing">
                        <div class="col-md-4">
                            चुनाव चिन्ह :<span class="mandatory"></span>
                        </div>
                        <div class="col-md-5 padding-left-0">
                            <input type="text" id="Text12" data-bind="value: SymbolName" class='required form-control'
                                disabled="disabled" />
                        </div>
                    </div>
                    <div class="row spacing">
                        <div class="col-md-4">
                            शैक्षिक योग्यता (माथिल्लो शैक्षिक योग्यता) :<span class="mandatory"></span>
                        </div>
                        <div class="col-md-5 padding-left-0">
                            <input type="text" id="Text9" data-bind="value: QUALIFICATION" class='required form-control'
                                disabled="disabled" />
                        </div>
                    </div>
                    <div class="row spacing">
                        <div class="col-md-4">
                            शैक्षिक योग्यता हासिल गरेको संस्था :<span class="mandatory"></span>
                        </div>
                        <div class="col-md-5 padding-left-0">
                            <input type="text" id="Text10" data-bind="value: NAMEOFINST" class='required form-control'
                                disabled="disabled" />
                        </div>
                    </div>
                    <div class="row spacing">
                        <div class="col-md-4">
                            अनुभव :<span class="mandatory"></span>
                        </div>
                        <div class="col-md-5 padding-left-0">
                            <textarea id="w3review" name="w3review" rows="4" cols="63" data-bind="value: EXPERIENCE"
                                disabled="disabled"></textarea>
                        </div>
                    </div>
                    <div class="row spacing">
                        <div class="col-md-4">
                            उम्मेदवारले उल्लेख गर्न चाहेको अन्य विवरण :<span class="mandatory"></span>
                        </div>
                        <div class="col-md-5 padding-left-0">
                            <textarea id="w3review" name="w3review" rows="4" cols="63" data-bind="value: OTHERDETAILS"
                                disabled="disabled"></textarea>
                        </div>
                    </div>
                    <div class="row spacing">
                        <div class="col-md-7">
                            उपर्युक्त अनुसारको मेरो वैयक्तिक विवरण ठीक साँचो हो । यो विवरण निर्वाचन आयोगबाट
                            सार्वजनिक गर्न मेरो सहमति रहेको छ । :<span class="mandatory"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    </main>
    <footer>
        <div class="col-md-12">
            Powered by <a href="http://pcs.com.np/">PCS</a>
        </div>
    </footer>
    <script type="text/javascript" src="/JSLibrary/Common.js?v=0.7"></script>
    <script type="text/javascript">
        genMenu();

        function hideMenu() {
            document.querySelector('body').classList.remove('menu-active');
        }
        function showMenu() {
            document.querySelector('body').classList.add('menu-active');
        }
        var allowedKeys = {
            37: 'left',
            38: 'up',
            39: 'right',
            40: 'down',
            65: 'a',
            66: 'b'
        };
        var konamiCode = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'b', 'a'];
        var konamiCodePosition = 0;
        document.addEventListener('keydown', function (e) {
            var key = allowedKeys[e.keyCode];
            var requiredKey = konamiCode[konamiCodePosition];
            if (key == requiredKey) {
                konamiCodePosition++;
                if (konamiCodePosition == konamiCode.length) {
                    let theme = localStorage.getItem('theme');
                    let newTheme = theme == 'light' ? 'dark' : 'light';
                    localStorage.setItem('theme', newTheme);
                    konamiCodePosition = 0;
                }
            } else {
                konamiCodePosition = 0;
            }
        });
    </script>
</body>
</html>
